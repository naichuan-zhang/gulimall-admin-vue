
const globalRoutes = [
  {path: '/404', component: null, name: '404', meta: {title: '404未找到'}, children: []},
  {path: '/login', component: null, name: 'login', meta: {title: '登录'}, children: []}
]

const data = {"msg":"success","menuList":[{"menuId":1,"parentId":0,"parentName":null,"name":"系统管理","url":null,"perms":null,"type":0,"icon":"system","orderNum":0,"open":null,"list":[{"menuId":2,"parentId":1,"parentName":null,"name":"管理员列表","url":"sys/user","perms":null,"type":1,"icon":"admin","orderNum":1,"open":null,"list":[{"menuId":15,"parentId":2,"parentName":null,"name":"查看","url":null,"perms":"sys:user:list,sys:user:info","type":2,"icon":null,"orderNum":0,"open":null,"list":[]},{"menuId":16,"parentId":2,"parentName":null,"name":"新增","url":null,"perms":"sys:user:save,sys:role:select","type":2,"icon":null,"orderNum":0,"open":null,"list":[]},{"menuId":17,"parentId":2,"parentName":null,"name":"修改","url":null,"perms":"sys:user:update,sys:role:select","type":2,"icon":null,"orderNum":0,"open":null,"list":[]},{"menuId":18,"parentId":2,"parentName":null,"name":"删除","url":null,"perms":"sys:user:delete","type":2,"icon":null,"orderNum":0,"open":null,"list":[]}]},{"menuId":3,"parentId":1,"parentName":null,"name":"角色管理","url":"sys/role","perms":null,"type":1,"icon":"role","orderNum":2,"open":null,"list":[{"menuId":19,"parentId":3,"parentName":null,"name":"查看","url":null,"perms":"sys:role:list,sys:role:info","type":2,"icon":null,"orderNum":0,"open":null,"list":[]},{"menuId":20,"parentId":3,"parentName":null,"name":"新增","url":null,"perms":"sys:role:save,sys:menu:list","type":2,"icon":null,"orderNum":0,"open":null,"list":[]},{"menuId":21,"parentId":3,"parentName":null,"name":"修改","url":null,"perms":"sys:role:update,sys:menu:list","type":2,"icon":null,"orderNum":0,"open":null,"list":[]},{"menuId":22,"parentId":3,"parentName":null,"name":"删除","url":null,"perms":"sys:role:delete","type":2,"icon":null,"orderNum":0,"open":null,"list":[]}]},{"menuId":4,"parentId":1,"parentName":null,"name":"菜单管理","url":"sys/menu","perms":null,"type":1,"icon":"menu","orderNum":3,"open":null,"list":[{"menuId":23,"parentId":4,"parentName":null,"name":"查看","url":null,"perms":"sys:menu:list,sys:menu:info","type":2,"icon":null,"orderNum":0,"open":null,"list":[]},{"menuId":24,"parentId":4,"parentName":null,"name":"新增","url":null,"perms":"sys:menu:save,sys:menu:select","type":2,"icon":null,"orderNum":0,"open":null,"list":[]},{"menuId":25,"parentId":4,"parentName":null,"name":"修改","url":null,"perms":"sys:menu:update,sys:menu:select","type":2,"icon":null,"orderNum":0,"open":null,"list":[]},{"menuId":26,"parentId":4,"parentName":null,"name":"删除","url":null,"perms":"sys:menu:delete","type":2,"icon":null,"orderNum":0,"open":null,"list":[]}]},{"menuId":5,"parentId":1,"parentName":null,"name":"SQL监控","url":"http://localhost:8080/renren-fast/druid/sql.html","perms":null,"type":1,"icon":"sql","orderNum":4,"open":null,"list":[]},{"menuId":6,"parentId":1,"parentName":null,"name":"定时任务","url":"job/schedule","perms":null,"type":1,"icon":"job","orderNum":5,"open":null,"list":[{"menuId":7,"parentId":6,"parentName":null,"name":"查看","url":null,"perms":"sys:schedule:list,sys:schedule:info","type":2,"icon":null,"orderNum":0,"open":null,"list":[]},{"menuId":8,"parentId":6,"parentName":null,"name":"新增","url":null,"perms":"sys:schedule:save","type":2,"icon":null,"orderNum":0,"open":null,"list":[]},{"menuId":9,"parentId":6,"parentName":null,"name":"修改","url":null,"perms":"sys:schedule:update","type":2,"icon":null,"orderNum":0,"open":null,"list":[]},{"menuId":10,"parentId":6,"parentName":null,"name":"删除","url":null,"perms":"sys:schedule:delete","type":2,"icon":null,"orderNum":0,"open":null,"list":[]},{"menuId":11,"parentId":6,"parentName":null,"name":"暂停","url":null,"perms":"sys:schedule:pause","type":2,"icon":null,"orderNum":0,"open":null,"list":[]},{"menuId":12,"parentId":6,"parentName":null,"name":"恢复","url":null,"perms":"sys:schedule:resume","type":2,"icon":null,"orderNum":0,"open":null,"list":[]},{"menuId":13,"parentId":6,"parentName":null,"name":"立即执行","url":null,"perms":"sys:schedule:run","type":2,"icon":null,"orderNum":0,"open":null,"list":[]},{"menuId":14,"parentId":6,"parentName":null,"name":"日志列表","url":null,"perms":"sys:schedule:log","type":2,"icon":null,"orderNum":0,"open":null,"list":[]}]},{"menuId":27,"parentId":1,"parentName":null,"name":"参数管理","url":"sys/config","perms":"sys:config:list,sys:config:info,sys:config:save,sys:config:update,sys:config:delete","type":1,"icon":"config","orderNum":6,"open":null,"list":[]},{"menuId":29,"parentId":1,"parentName":null,"name":"系统日志","url":"sys/log","perms":"sys:log:list","type":1,"icon":"log","orderNum":7,"open":null,"list":[]},{"menuId":30,"parentId":1,"parentName":null,"name":"文件上传","url":"oss/oss","perms":"sys:oss:all","type":1,"icon":"oss","orderNum":6,"open":null,"list":[]}]}],"code":0,"permissions":["sys:schedule:info","sys:menu:update","sys:menu:delete","sys:config:info","sys:menu:list","sys:config:save","sys:config:update","sys:schedule:resume","sys:user:delete","sys:config:list","sys:user:update","sys:role:list","sys:menu:info","sys:menu:select","sys:schedule:update","sys:schedule:save","sys:role:select","sys:user:list","sys:menu:save","sys:role:save","sys:schedule:log","sys:role:info","sys:schedule:delete","sys:role:update","sys:schedule:list","sys:user:info","sys:schedule:run","sys:config:delete","sys:role:delete","sys:user:save","sys:schedule:pause","sys:log:list","sys:oss:all"]}

console.log(fnCurrentRouteType({path: ''}, globalRoutes))

function fnCurrentRouteType (route, globalRoutes = []) {
  var temp = []
  for (var i = 0; i < globalRoutes.length; i++) {
    if (globalRoutes[i].path === route.path) {
      // 若当前访问的路由path在全局路由列表中存在，则为global
      return 'global'
    } else if (globalRoutes[i].children && globalRoutes[i].children.length > 0) {
      temp = temp.concat(globalRoutes[i].children)
    }
  }
  return temp.length > 0 ? fnCurrentRouteType(route, temp) : 'main'
}
